(this["webpackJsonpnews-admin"]=this["webpackJsonpnews-admin"]||[]).push([[0],{161:function(e,t,a){},197:function(e,t,a){e.exports=a.p+"static/media/logo3.54958356.png"},208:function(e,t,a){e.exports=a(394)},217:function(e,t,a){},394:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(5),o=a.n(s),i=a(52),c=a(43),l=a(118),u=a(192),p=a(12),m=a.n(p);function d(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function g(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?d(a,!0).forEach((function(t){Object(u.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):d(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function h(){return{news:[],date:m()(),focused:!1,items:[],select_mode:!1,parent_items:[],isLogin:!1,userId:null,username:null}}var f=Object(l.b)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h(),t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"NEWS_CHANGE":var a=t.payload.news;return g({},e,{news:a});case"DATE_CHANGE":var n=t.payload.date;return g({},e,{date:n});case"FOCUSE_CHANGE":var r=t.payload.focused;return g({},e,{focused:r});case"RESET_NEWS":return g({},e,{news:[]});case"SELECTED_ITEMS_CHANGE":var s=t.payload.items;return g({},e,{items:s});case"SELECT_MODE_CHANGE":var o=t.payload.select_mode;return g({},e,{select_mode:o});case"PARENT_ITEMS_CHANGE":var i=t.payload.parent_items;return g({},e,{parent_items:i});case"LOGIN_STATUS_CHANGE":var c=t.payload,l=c.isLogin,u=c.userId,p=c.username;return g({},e,{isLogin:l,userId:u,username:p});default:return e}})),b=(a(217),a(18)),y=a.n(b),E=a(26),w=a(31),v=a(32),O=a(34),x=a(33),k=a(35),j=a(67),S=a(402),_=a(395),C={news_change:function(e){return{type:"NEWS_CHANGE",payload:{news:e}}},date_change:function(e){return{type:"DATE_CHANGE",payload:{date:e}}},focuse_change:function(e){return{type:"FOCUSE_CHANGE",payload:{focused:e}}},reset_news:function(){return{type:"RESET_NEWS"}},selected_items_change:function(e){return{type:"SELECTED_ITEMS_CHANGE",payload:{items:e}}},select_mode_change:function(e){return{type:"SELECT_MODE_CHANGE",payload:{select_mode:e}}},parent_items_change:function(e){return{type:"PARENT_ITEMS_CHANGE",payload:{parent_items:e}}},login_status_change:function(e,t,a){return{type:"LOGIN_STATUS_CHANGE",payload:{isLogin:e,userId:t,username:a}}}},N=(a(161),a(399)),T=a(403),D=a(8),I=a(89),P=a(57),L=a(119),A=function(){var e=Object(E.a)(y.a.mark((function e(t){var a,n,r,s,o,i=arguments;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=i.length>1&&void 0!==i[1]?i[1]:{method:"GET"},n=i.length>2?i[2]:void 0,a.mode="cors",r=Object.assign({},a),e.prev=4,"POST"!==r.method&&"PUT"!==r.method||(r.body=JSON.stringify(n),r.headers={"content-type":"application/json"}),e.next=8,fetch(t,r);case 8:return s=e.sent,o=s.json(),e.abrupt("return",o);case 13:e.prev=13,e.t0=e.catch(4),console.error(e.t0.stack);case 16:case"end":return e.stop()}}),e,null,[[4,13]])})));return function(t){return e.apply(this,arguments)}}(),R=function(e){function t(){var e,a;Object(w.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(O.a)(this,(e=Object(x.a)(t)).call.apply(e,[this].concat(r)))).handleSubmit=function(){var e=Object(E.a)(y.a.mark((function e(t){var n,r;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n=a.props.form.getFieldsValue(),r=Object(L.promisify)(a.props.form.validateFields),e.prev=3,e.next=6,r();case 6:e.next=12;break;case 8:e.prev=8,e.t0=e.catch(3),console.error(e.t0.stack),S.a.error(e.t0.message);case 12:return e.next=14,a.onLogin(n.username,n.password);case 14:case"end":return e.stop()}}),e,null,[[3,8]])})));return function(t){return e.apply(this,arguments)}}(),a.onLogin=function(){var e=Object(E.a)(y.a.mark((function e(t,n){var r;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A("/api/user/login",{method:"POST"},{username:t,password:n});case 2:if(200===(r=e.sent).status){e.next=6;break}return S.a.warning(r.message),e.abrupt("return");case 6:S.a.success(r.message),a.props.statusChange(r.data.userId,r.data.username),a.props.history.push("/admin/home");case 9:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),a.onRegisterClicked=function(e){a.props.btnClicked()},a}return Object(k.a)(t,e),Object(v.a)(t,[{key:"render",value:function(){var e=this.props.form.getFieldDecorator;return r.a.createElement(_.a,null,r.a.createElement(N.a,{style:{padding:"50px",borderStyle:"groove",borderWidth:"3px",backgroundColor:"white"},onSubmit:this.handleSubmit,className:"login-form"},r.a.createElement(N.a.Item,{style:{marginBottom:"30px"}},e("username",{rules:[{required:!0,message:"Please input your username!"}]})(r.a.createElement(T.a,{prefix:r.a.createElement(D.a,{type:"user",style:{color:"rgba(0,0,0,.25)"}}),placeholder:"Username"}))),r.a.createElement(N.a.Item,{style:{marginBottom:"30px"}},e("password",{rules:[{required:!0,message:"Please input your Password!"}]})(r.a.createElement(T.a,{prefix:r.a.createElement(D.a,{type:"lock",style:{color:"rgba(0,0,0,.25)"}}),type:"password",placeholder:"Password"}))),r.a.createElement(N.a.Item,null,e("remember",{valuePropName:"checked",initialValue:!0})(r.a.createElement(I.a,{style:{float:"left"}},"Remember me")),r.a.createElement("a",{className:"login-form-forgot",href:""},"Forgot password"),r.a.createElement(P.a,{type:"primary",htmlType:"submit",className:"login-form-button"},"Log in"),r.a.createElement("span",{style:{float:"right"}},"Or ",r.a.createElement(i.b,{to:"/admin/register",onClick:this.onRegisterClicked},"register now!")))))}}]),t}(r.a.Component),H=N.a.create({name:"normal_login"})(R),B=Object(j.f)(Object(c.b)((function(e){return{isLogin:e.isLogin,userId:e.userId,username:e.username,token:e.token}}),C)(H)),F=a(400),G=a(92),M=a(128),U=a(197),K=a.n(U),W=a(396),Y=a(397),q=F.a.Title,J=[{title:"CreateTime",dataIndex:"createTime",key:"createTime",align:"center",ellipsis:!0},{title:"EventTime",dataIndex:"eventTime",key:"eventTime",align:"center",ellipsis:!0},{title:"Title",dataIndex:"title",key:"title",align:"center",ellipsis:!0},{title:"Summary",dataIndex:"summary",key:"summary",align:"center",ellipsis:!0},{title:"Thumbnail",dataIndex:"thumbnail",key:"thumbnail",align:"center",ellipsis:!0}],V=function(e){function t(e){var a;return Object(w.a)(this,t),(a=Object(O.a)(this,Object(x.a)(t).call(this,e))).getNewsApi=Object(E.a)(y.a.mark((function e(){var t;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A("/api/news");case 2:t=e.sent,a.props.news_change(t.data),S.a.success(t.message);case 5:case"end":return e.stop()}}),e)}))),a.onSelectChange=function(e){console.debug("selectedRowKeys changed: ",e),a.setState({selectedRowKeys:e})},a.onConfirmDelete=Object(E.a)(y.a.mark((function e(){var t,n;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=1===a.state.selectedRowKeys.length?"/api/news?id=".concat(a.state.selectedRowKeys[0]):"/api/news?id=".concat(a.state.selectedRowKeys.join("&id=")),a.setState({selectedRowKeys:[],loading:!0}),e.next=4,A(t,{method:"DELETE"});case 4:if(200===(n=e.sent).status){e.next=8;break}return S.a.warning(n.message),e.abrupt("return");case 8:return S.a.success("Delete succeed"),a.setState({loading:!1}),e.next=12,a.getNewsApi();case 12:case"end":return e.stop()}}),e)}))),a.state={selectedRowKeys:[],loading:!1},a}return Object(k.a)(t,e),Object(v.a)(t,[{key:"componentDidMount",value:function(){this.getNewsApi()}},{key:"render",value:function(){console.debug("[NewsTable props]: ".concat(JSON.stringify(this.props)));var e=this.props.section_url.split("/admin/")[1],t=this.state.selectedRowKeys,a={selectedRowKeys:t,onChange:this.onSelectChange},n=t.length>0,s=this.props.news.filter((function(t){return t.project===e})).map((function(e,t){return Object.assign({},{key:e._id,createTime:m()(1e3*e.timestamp).format("YYYY-MM-DD HH:mm:ss"),eventTime:m()(1e3*e.event_time).format("YYYY-MM-DD"),title:e.title,summary:e.summary,thumbnail:e.thumbnail})}));return r.a.createElement(_.a,{style:{borderStyle:"groove",borderWidth:"3px",marginBottom:"30px",backgroundColor:"white"}},r.a.createElement("div",{style:{marginBottom:10}},r.a.createElement(W.a,{title:"Are you sure to delete these news?",onConfirm:this.onConfirmDelete,okText:"Yes",cancelText:"No"},r.a.createElement(P.a,{style:{width:"fit-content"},type:"primary",disabled:!n},"Delete")),r.a.createElement("span",{style:{marginLeft:8}},n?"Selected ".concat(t.length," items"):"")),r.a.createElement(q,{style:{textAlign:"center",marginBottom:"50px"},level:2},"NewsTable"),r.a.createElement(Y.a,{rowSelection:a,columns:J,dataSource:s,bordered:!0,loading:{delay:500,spinning:this.state.loading},pagination:{pageSize:5,showTotal:function(e,t){return"".concat(t[0],"-").concat(t[1]," of ").concat(e," items")}}}))}}]),t}(r.a.Component),z=Object(c.b)((function(e){return{news:e.news}}),C)(V),Q=a(98),X=a(398),Z=function(e){function t(e){var a;return Object(w.a)(this,t),(a=Object(O.a)(this,Object(x.a)(t).call(this,e))).getNewsApi=Object(E.a)(y.a.mark((function e(){var t;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A("/api/news");case 2:if(200===(t=e.sent).status){e.next=6;break}return S.a.warning(t.message),e.abrupt("return");case 6:a.props.news_change(t.data);case 7:case"end":return e.stop()}}),e)}))),a.handleSubmit=function(){var e=Object(E.a)(y.a.mark((function e(t){var n,r,s;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a.setState({committing:!0}),n=a.props.form.getFieldValue("input"),r=a.props.section_url.split("/admin/")[1],e.next=6,A("/api/news",{method:"POST"},{input:n,event_time:a.props.date,page_url:r});case 6:if(200===(s=e.sent).status){e.next=10;break}return S.a.warning(s.message),e.abrupt("return");case 10:return S.a.success("insert succeed"),a.setState({committing:!1}),e.next=14,a.getNewsApi();case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.handleDateChange=a.handleDateChange.bind(Object(Q.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(Q.a)(a)),a.state={committing:!1},a}return Object(k.a)(t,e),Object(v.a)(t,[{key:"handleDateChange",value:function(e,t){this.props.date_change(e)}},{key:"render",value:function(){console.debug("[AddNewsForm props]: { section_url: ".concat(this.props.section_url,", date: ").concat(this.props.date,", input: ").concat(this.props.input,", focused: ").concat(this.props.focused,"}"));var e=this.props.form.getFieldDecorator;return r.a.createElement(_.a,{style:{borderStyle:"groove",borderWidth:"3px",margin:"60px 0 50px 0",padding:"20px",backgroundColor:"white"}},r.a.createElement(N.a,{labelCol:{span:3},wrapperCol:{span:8},onSubmit:this.handleSubmit},r.a.createElement(N.a.Item,{label:"SHIMO-URL"},e("input",{rules:[{required:!0,message:"Please input a shimo-news url"}]})(r.a.createElement(T.a,{placeholder:"Please input a shimo-url here"})),r.a.createElement(X.a,{onChange:this.handleDateChange,placeholder:"Select date"}),r.a.createElement(P.a,{style:{marginLeft:"20px"},type:"primary",htmlType:"submit",disabled:this.state.committing},"Submit"))))}}]),t}(r.a.Component),$=N.a.create({name:"normal_login"})(Z),ee=Object(c.b)((function(e){return{news:e.news,date:e.date,focused:e.focused}}),C)($),te=function(e){function t(){return Object(w.a)(this,t),Object(O.a)(this,Object(x.a)(t).apply(this,arguments))}return Object(k.a)(t,e),Object(v.a)(t,[{key:"render",value:function(){return r.a.createElement(_.a,null,r.a.createElement(z,{section_url:this.props.match.url}),r.a.createElement(ee,{section_url:this.props.match.url}))}}]),t}(r.a.Component),ae=a(101),ne=a(401),re=ae.a.Option,se=function(e){function t(){var e,a;Object(w.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(O.a)(this,(e=Object(x.a)(t)).call.apply(e,[this].concat(r)))).state={confirmDirty:!1,usernameDirty:!1},a.onRegister=function(){var e=Object(E.a)(y.a.mark((function e(t,n,r){var s;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A("/api/user/register",{method:"POST"},{username:t,password:n,phone:r});case 2:if(200===(s=e.sent).status){e.next=6;break}return S.a.warning(s.message),e.abrupt("return");case 6:S.a.success(s.message),a.props.history.push("/admin/login");case 8:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),a.handleSubmit=function(){var e=Object(E.a)(y.a.mark((function e(t){var n,r;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n=a.props.form.getFieldsValue(),r=Object(L.promisify)(a.props.form.validateFieldsAndScroll),e.prev=3,e.next=6,r();case 6:e.next=12;break;case 8:e.prev=8,e.t0=e.catch(3),console.error(e.t0.stack),S.a.error("frontend error");case 12:return e.next=14,a.onRegister(n.username,n.password,n.phone);case 14:case"end":return e.stop()}}),e,null,[[3,8]])})));return function(t){return e.apply(this,arguments)}}(),a.handleConfirmBlur=function(e){var t=e.target.value;a.setState({confirmDirty:a.state.confirmDirty||!!t})},a.handleUsernameBlur=function(e){var t=e.target.value;a.setState({usernameDirty:a.state.usernameDirty||!!t})},a.checkUsername=function(e,t,n){var r=a.props.form;A("/api/user/check",{method:"POST"},{username:r.getFieldValue("username")}).then((function(e){t&&200!==e.status?n(e.message):n()}))},a.compareToFirstPassword=function(e,t,n){var r=a.props.form;t&&t!==r.getFieldValue("password")?n("Two passwords that you enter is inconsistent!"):n()},a.validateToNextPassword=function(e,t,n){var r=a.props.form;t&&a.state.confirmDirty&&r.validateFields(["confirm"],{force:!0}),n()},a}return Object(k.a)(t,e),Object(v.a)(t,[{key:"render",value:function(){var e=this,t=this.props.form.getFieldDecorator,a=t("prefix",{initialValue:"86"})(r.a.createElement(ae.a,{style:{width:70,height:30}},r.a.createElement(re,{value:"86"},"+86")));return r.a.createElement(_.a,null,r.a.createElement(ne.a,{style:{border:"1px solid rgb(235, 237, 240)"},onBack:function(){return e.props.history.push("/admin/login")},title:"Register Page"}),r.a.createElement(N.a,Object.assign({},{labelCol:{xs:{span:24},sm:{span:8}},wrapperCol:{xs:{span:24},sm:{span:16}}},{style:{margin:"200px 30px 300px 30px",padding:"60px",borderStyle:"groove",borderWidth:"3px",backgroundColor:"white"},onSubmit:this.handleSubmit}),r.a.createElement(N.a.Item,{className:"input-field",label:"Username"},t("username",{rules:[{required:!0,message:"Please input your username!"},{validator:this.checkUsername}]})(r.a.createElement(T.a,{type:"text",onBlur:this.handleUsernameBlur}))),r.a.createElement(N.a.Item,{className:"input-field",label:"Password",hasFeedback:!0},t("password",{rules:[{required:!0,message:"Please input your password!"},{validator:this.validateToNextPassword}]})(r.a.createElement(T.a.Password,null))),r.a.createElement(N.a.Item,{className:"input-field",label:"Confirm Password",hasFeedback:!0},t("confirm",{rules:[{required:!0,message:"Please confirm your password!"},{validator:this.compareToFirstPassword}]})(r.a.createElement(T.a.Password,{onBlur:this.handleConfirmBlur}))),r.a.createElement(N.a.Item,{className:"input-field",label:"Phone Number"},t("phone",{rules:[{required:!0,message:"Please input your phone number!"}]})(r.a.createElement(T.a,{addonBefore:a,style:{width:"100%"}}))),r.a.createElement(N.a.Item,{wrapperCol:{xs:{span:24,offset:0},sm:{span:16,offset:8}}},r.a.createElement(P.a,{type:"primary",htmlType:"submit"},"Register"))))}}]),t}(r.a.Component),oe=N.a.create({name:"register"})(se),ie=Object(j.f)(oe),ce=F.a.Title,le=function(e){function t(e){var a;return Object(w.a)(this,t),(a=Object(O.a)(this,Object(x.a)(t).call(this,e))).toggle=function(){a.setState({collapsed:!a.state.collapsed})},a.getLoginStatus=Object(E.a)(y.a.mark((function e(){var t;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A("/api/user/status");case 2:200===(t=e.sent).status?(S.a.success(t.message),a.props.login_status_change(!0,t.data._id,t.data.username)):(S.a.warning(t.message),a.props.login_status_change(!1,null,null));case 4:case"end":return e.stop()}}),e)}))),a.onLogOut=Object(E.a)(y.a.mark((function e(){var t;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A("/api/user/logout");case 2:200===(t=e.sent).status?(S.a.success(t.message),a.props.login_status_change(!1,null,null),a.props.history.push("/admin")):S.a.warning(t.message);case 4:case"end":return e.stop()}}),e)}))),a.onDropDownMenuClicked=function(){var e=Object(E.a)(y.a.mark((function e(t){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("logout"!==t.key){e.next=3;break}return e.next=3,a.onLogOut();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.state={collapsed:!1},a}return Object(k.a)(t,e),Object(v.a)(t,[{key:"componentDidMount",value:function(){this.getLoginStatus()}},{key:"render",value:function(){console.debug("[Home props]: ".concat(JSON.stringify(this.props)));var e=r.a.createElement(G.a,{onClick:this.onDropDownMenuClicked},r.a.createElement(G.a.Item,{key:"info"},"Personal Info"),r.a.createElement(G.a.Item,{key:"logout"},r.a.createElement(D.a,{type:"logout"}),"Logout"));return r.a.createElement(_.a,null,r.a.createElement(_.a.Sider,{trigger:null,collapsible:!0,collapsed:this.state.collapsed},r.a.createElement("div",{className:"logo",style:{margin:"40px 30px"}},r.a.createElement("img",{src:K.a,width:"130px",height:"40px",alt:"logo"})),r.a.createElement(G.a,{theme:"dark",mode:"inline"},r.a.createElement(G.a.Item,{className:"navigation-style",key:"1",title:"home"},r.a.createElement(D.a,{type:"home",className:"icon-style"}),r.a.createElement("span",null,r.a.createElement(i.b,{className:"link-style",to:"/admin/home"},"Home"))),r.a.createElement(G.a.Item,{className:"navigation-style",key:"2",title:"linke"},r.a.createElement(D.a,{type:"table",className:"icon-style"}),r.a.createElement("span",null,r.a.createElement(i.b,{className:"link-style",to:"/admin/linke"},"Linke"))),r.a.createElement(G.a.Item,{key:"3",title:"dbj"},r.a.createElement(D.a,{type:"table",className:"icon-style"}),r.a.createElement("span",null,r.a.createElement(i.b,{className:"link-style",to:"/admin/dbj"},"DBJ"))))),r.a.createElement(_.a,null,r.a.createElement(_.a.Header,{style:{background:"#fff",padding:"10px 20px",marginBottom:"10px",height:"80px",textAlign:"center"}},r.a.createElement(D.a,{className:"trigger",style:{float:"left"},type:this.state.collapsed?"menu-unfold":"menu-fold",onClick:this.toggle}),r.a.createElement(M.a.Button,{style:{float:"right",fontSize:"20px"},overlay:e,icon:r.a.createElement(D.a,{type:"user"})},this.props.username)),r.a.createElement(_.a.Content,{style:{margin:"16px 16px",minHeight:280}},r.a.createElement(j.c,null,r.a.createElement(j.a,{exact:!0,path:"/admin/home",component:ue}),r.a.createElement(j.a,{path:"/admin/register",component:ie}),r.a.createElement(j.a,{path:"/admin/linke",component:te}),r.a.createElement(j.a,{path:"/admin/dbj",component:te}))),r.a.createElement(_.a.Footer,{style:{textAlign:"center"}},"Linke Technology \xa92020 Created by Lee")))}}]),t}(r.a.Component),ue=function(e){function t(){return Object(w.a)(this,t),Object(O.a)(this,Object(x.a)(t).apply(this,arguments))}return Object(k.a)(t,e),Object(v.a)(t,[{key:"render",value:function(){return r.a.createElement(_.a,{style:{borderStyle:"groove",borderWidth:"3px",marginBottom:"100px",marginTop:"20px",backgroundColor:"white"}},r.a.createElement(ce,{style:{textAlign:"center"},level:2},"Home page"))}}]),t}(r.a.Component),pe=Object(j.f)(Object(c.b)((function(e){return{isLogin:e.isLogin,userId:e.userId,username:e.username}}),C)(le)),me=function(e){function t(){var e,a;Object(w.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(O.a)(this,(e=Object(x.a)(t)).call.apply(e,[this].concat(r)))).onStatusChange=function(e,t){a.props.login_status_change(!0,e,t)},a.getRegisterBtnClick=function(){a.props.history.push("/admin/register")},a.getLoginStatus=Object(E.a)(y.a.mark((function e(){var t;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A("/api/user/status");case 2:200===(t=e.sent).status?(S.a.success(t.message),a.props.login_status_change(!0,t.data._id,t.data.username)):(S.a.warning(t.message),a.props.login_status_change(!1,null,null));case 4:case"end":return e.stop()}}),e)}))),a}return Object(k.a)(t,e),Object(v.a)(t,[{key:"componentDidMount",value:function(){this.getLoginStatus()}},{key:"render",value:function(){return console.debug("[App props]: ".concat(JSON.stringify(this.props))),"/admin/register"===this.props.location.pathname?r.a.createElement(ie,null):r.a.createElement(_.a,{style:{height:"-webkit-fill-available"}},r.a.createElement(j.a,{path:"/admin/register",component:B}),!this.props.isLogin&&r.a.createElement(B,{btnClicked:this.getRegisterBtnClick,statusChange:this.onStatusChange.bind(this)}),this.props.isLogin&&r.a.createElement(pe,{isLogin:this.props.isLogin,username:this.props.username,userId:this.props.userId}))}}]),t}(r.a.Component),de=Object(j.f)(Object(c.b)((function(e){return{isLogin:e.isLogin,userId:e.userId,username:e.username}}),C)(me)),ge=document.getElementById("root");o.a.render(r.a.createElement(i.a,null,r.a.createElement(c.a,{store:f},r.a.createElement(de,null))),ge)}},[[208,1,2]]]);
//# sourceMappingURL=main.00c2b7d7.chunk.js.map