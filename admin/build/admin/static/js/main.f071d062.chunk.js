(this["webpackJsonpnews-admin"]=this["webpackJsonpnews-admin"]||[]).push([[0],{178:function(e,t,n){},269:function(e,t,n){e.exports=n.p+"static/media/logo2.2a731020.png"},275:function(e,t,n){e.exports=n(544)},285:function(e,t,n){},448:function(e,t,n){},474:function(e,t){},544:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),s=n(5),o=n.n(s),c=n(56),i=n(35),l=n(134),u=n(259),p=n(6),m=n.n(p);function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(n,!0).forEach((function(t){Object(u.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function f(){return{news:[],input:"",date:m()(),focused:!1,items:[],select_mode:!1,parent_items:[],isLogin:!1,userId:null,username:null}}var g=Object(l.b)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f(),t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"NEWS_CHANGE":var n=t.payload.news;return d({},e,{news:n});case"INPUT_CHANGE":var a=t.payload.value;return d({},e,{input:a});case"DATE_CHANGE":var r=t.payload.date;return d({},e,{date:r});case"FOCUSE_CHANGE":var s=t.payload.focused;return d({},e,{focused:s});case"RESET_NEWS":return d({},e,{news:[]});case"SELECTED_ITEMS_CHANGE":var o=t.payload.items;return d({},e,{items:o});case"SELECT_MODE_CHANGE":var c=t.payload.select_mode;return d({},e,{select_mode:c});case"PARENT_ITEMS_CHANGE":var i=t.payload.parent_items;return d({},e,{parent_items:i});case"LOGIN_STATUS_CHANGE":var l=t.payload,u=l.isLogin,p=l.userId,m=l.username;return d({},e,{isLogin:u,userId:p,username:m});default:return e}})),b=(n(285),n(12)),E=n.n(b),y=n(25),v=n(28),w=n(29),O=n(31),_=n(30),j=n(32),k=n(72),C=n(552),N={news_change:function(e){return{type:"NEWS_CHANGE",payload:{news:e}}},input_change:function(e){return{type:"INPUT_CHANGE",payload:{value:e}}},date_change:function(e){return{type:"DATE_CHANGE",payload:{date:e}}},focuse_change:function(e){return{type:"FOCUSE_CHANGE",payload:{focused:e}}},reset_news:function(){return{type:"RESET_NEWS"}},selected_items_change:function(e){return{type:"SELECTED_ITEMS_CHANGE",payload:{items:e}}},select_mode_change:function(e){return{type:"SELECT_MODE_CHANGE",payload:{select_mode:e}}},parent_items_change:function(e){return{type:"PARENT_ITEMS_CHANGE",payload:{parent_items:e}}},login_status_change:function(e,t,n){return{type:"LOGIN_STATUS_CHANGE",payload:{isLogin:e,userId:t,username:n}}}},S=(n(178),n(545)),x=n(548),I=n(11),D=n(550),A=n(83),T=n(547),P=T.a.Option,L=function(e){function t(){var e,n;Object(v.a)(this,t);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(n=Object(O.a)(this,(e=Object(_.a)(t)).call.apply(e,[this].concat(r)))).state={confirmDirty:!1,usernameDirty:!1},n.onRegister=function(){var e=Object(y.a)(E.a.mark((function e(t){var n,a,r;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=new FormData).append("username",t.username),n.append("password",t.password),n.append("phone",t.phone),e.next=6,fetch("/api/user/register",{method:"POST",mode:"cors",body:n});case 6:return a=e.sent,r=a.json(),e.abrupt("return",r);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.handleSubmit=function(e){e.preventDefault(),n.props.form.validateFieldsAndScroll((function(e,t){e&&(console.error(e.stack),C.a.error("frontend error")),n.onRegister(t).then((function(e){200===e.status?C.a.success(e.message):C.a.warning(e.message)})).then((function(){return n.props.history.push("/login")})).catch((function(e){console.error(e.stack),C.a.error(e.message)}))}))},n.handleConfirmBlur=function(e){var t=e.target.value;n.setState({confirmDirty:n.state.confirmDirty||!!t})},n.handleUsernameBlur=function(e){var t=e.target.value;n.setState({usernameDirty:n.state.usernameDirty||!!t})},n.checkUsername=function(e,t,a){var r=n.props.form,s=new FormData;s.append("username",r.getFieldValue("username")),fetch("/api/user/check",{method:"POST",mode:"cors",body:s}).then((function(e){return e.json()})).then((function(e){t&&200!==e.status?a(e.message):a()}))},n.compareToFirstPassword=function(e,t,a){var r=n.props.form;t&&t!==r.getFieldValue("password")?a("Two passwords that you enter is inconsistent!"):a()},n.validateToNextPassword=function(e,t,a){var r=n.props.form;t&&n.state.confirmDirty&&r.validateFields(["confirm"],{force:!0}),a()},n}return Object(j.a)(t,e),Object(w.a)(t,[{key:"render",value:function(){console.log("state: ".concat(JSON.stringify(this.state)));var e=this.props.form.getFieldDecorator,t=e("prefix",{initialValue:"86"})(r.a.createElement(T.a,{style:{width:70,height:30}},r.a.createElement(P,{value:"86"},"+86")));return r.a.createElement(S.a,Object.assign({},{labelCol:{xs:{span:24},sm:{span:8}},wrapperCol:{xs:{span:24},sm:{span:16}}},{style:{margin:"200px 20px 0 30px"},onSubmit:this.handleSubmit}),r.a.createElement(S.a.Item,{label:"Username"},e("username",{rules:[{required:!0,message:"Please input your username!"},{validator:this.checkUsername}]})(r.a.createElement(x.a,{type:"text",onBlur:this.handleUsernameBlur}))),r.a.createElement(S.a.Item,{label:"Password",hasFeedback:!0},e("password",{rules:[{required:!0,message:"Please input your password!"},{validator:this.validateToNextPassword}]})(r.a.createElement(x.a.Password,null))),r.a.createElement(S.a.Item,{label:"Confirm Password",hasFeedback:!0},e("confirm",{rules:[{required:!0,message:"Please confirm your password!"},{validator:this.compareToFirstPassword}]})(r.a.createElement(x.a.Password,{onBlur:this.handleConfirmBlur}))),r.a.createElement(S.a.Item,{label:"Phone Number"},e("phone",{rules:[{required:!0,message:"Please input your phone number!"}]})(r.a.createElement(x.a,{addonBefore:t,style:{width:"100%"}}))),r.a.createElement(S.a.Item,{wrapperCol:{xs:{span:24,offset:0},sm:{span:16,offset:8}}},r.a.createElement(A.a,{type:"primary",htmlType:"submit"},"Register")))}}]),t}(r.a.Component),F=S.a.create({name:"register"})(L),B=Object(k.f)(Object(i.b)((function(e){return{}}),N)(F)),M=function(e){function t(){var e,n;Object(v.a)(this,t);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(n=Object(O.a)(this,(e=Object(_.a)(t)).call.apply(e,[this].concat(r)))).handleSubmit=function(e){e.preventDefault(),n.props.form.validateFields((function(e,t){e&&(console.error(e.stack),C.a.error(e.message)),n.onLogin(t).then((function(e){200===e.status?(C.a.success(e.message),n.props.login_status_change(!0,e.data._id,e.data.username)):C.a.warning(e.message)})).then((function(){return n.props.history.push("/home")})).catch((function(e){console.error(e.stack),C.a.error(e.message)}))}))},n.onLogin=function(){var e=Object(y.a)(E.a.mark((function e(t){var n,a,r;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=new FormData).append("username",t.username),n.append("password",t.password),e.next=5,fetch("/api/user/login",{method:"POST",mode:"cors",body:n});case 5:return a=e.sent,r=a.json(),e.abrupt("return",r);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.onRegisterClicked=function(){var e=Object(y.a)(E.a.mark((function e(t){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),console.log("click register button"),n.props.btnClicked(!0);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n}return Object(j.a)(t,e),Object(w.a)(t,[{key:"render",value:function(){var e=this.props.form.getFieldDecorator;return r.a.createElement(S.a,{onSubmit:this.handleSubmit,className:"login-form"},r.a.createElement(S.a.Item,null,e("username",{rules:[{required:!0,message:"Please input your username!"}]})(r.a.createElement(x.a,{prefix:r.a.createElement(I.a,{type:"user",style:{color:"rgba(0,0,0,.25)"}}),placeholder:"Username"}))),r.a.createElement(S.a.Item,null,e("password",{rules:[{required:!0,message:"Please input your Password!"}]})(r.a.createElement(x.a,{prefix:r.a.createElement(I.a,{type:"lock",style:{color:"rgba(0,0,0,.25)"}}),type:"password",placeholder:"Password"}))),r.a.createElement(S.a.Item,null,e("remember",{valuePropName:"checked",initialValue:!0})(r.a.createElement(D.a,{style:{float:"left"}},"Remember me")),r.a.createElement("a",{className:"login-form-forgot",href:""},"Forgot password"),r.a.createElement(A.a,{type:"primary",htmlType:"submit",className:"login-form-button"},"Log in"),r.a.createElement("span",{style:{float:"right"}},"Or ",r.a.createElement("a",{href:"/register",onClick:this.onRegisterClicked.bind(this)},"register now!"))))}}]),t}(r.a.Component),H=S.a.create({name:"normal_login"})(M),G=Object(k.f)(Object(i.b)((function(e){return{isLogin:e.isLogin,userId:e.userId,username:e.username}}),N)(H)),R=n(546),U=n(549),Y=n(269),J=n.n(Y),q=n(49),V=n(270),W=n(81),z=function(e){function t(e){var n;return Object(v.a)(this,t),(n=Object(O.a)(this,Object(_.a)(t).call(this,e))).onCheckedStatusChange=n.onCheckedStatusChange.bind(Object(q.a)(n)),n.state={checked:!1},n}return Object(j.a)(t,e),Object(w.a)(t,[{key:"onCheckedStatusChange",value:function(){this.setState({checked:!this.state.checked}),!0===document.getElementsByClassName("selected_style")[this.props.index].checked?this.props.items.push(this.props.news._id):this.props.items.splice(this.props.index,1),this.props.selected_items_change(this.props.items),this.props.getItems(this.props.items)}},{key:"render",value:function(){console.log("[NewsRow props]: { items: ".concat(this.props.items,", index: ").concat(this.props.index," }")),console.log("[NewsRow state]: { checked: ".concat(this.state.checked," }"));var e=this.props.news;return r.a.createElement("tr",null,r.a.createElement("td",{className:"cb_style"},r.a.createElement("input",{id:this.props.news._id,className:"selected_style",type:"checkbox",onChange:this.onCheckedStatusChange,checked:this.state.checked}),r.a.createElement("label",{htmlFor:this.props.news._id})),r.a.createElement("td",null,m()(1e3*e.timestamp).format("YYYY-MM-DD HH:mm:ss")),r.a.createElement("td",null,m()(1e3*e.event_time).format("YYYY-MM-DD")),r.a.createElement("td",null,e.title),r.a.createElement("td",null,e.summary),r.a.createElement("td",null,e.thumbnail))}}]),t}(r.a.Component),K=Object(i.b)((function(e){return{items:e.items}}),N)(z),Q=n(271),X=n.n(Q),Z=(n(448),function(e){return Object(W.usePromiseTracker)().promiseInProgress&&r.a.createElement("div",{className:"spinner"},r.a.createElement(X.a,{type:"Audio",color:"#2BAD60",height:100,width:100}))}),$=(n(449),function(e){function t(e){var n;return Object(v.a)(this,t),(n=Object(O.a)(this,Object(_.a)(t).call(this,e))).getNewsApi=Object(y.a)(E.a.mark((function e(){var t,n;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/news");case 2:return t=e.sent,e.next=5,t.json();case 5:if(n=e.sent,200===t.status){e.next=8;break}throw new Error(n.message);case 8:return e.abrupt("return",n);case 9:case"end":return e.stop()}}),e)}))),n.onConfirmDelete=Object(y.a)(E.a.mark((function e(){var t,a;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t="/api/news",a=document.getElementsByClassName("cb_style"),n.props.parent_items.length>0&&(1===n.props.parent_items.length&&(t="".concat(t,"?id=").concat(n.props.parent_items[0])),n.props.parent_items.length>1&&(t="".concat(t,"?id=").concat(n.props.parent_items.join("&id=")))),Object(W.trackPromise)(fetch(t,{method:"DELETE",mode:"cors"}).then((function(){return n.getNewsApi()})).then((function(e){return n.props.news_change(e.data)})).then((function(){n.selectModeOff(a),C.a.success("Delete succeed")})).catch((function(e){console.error(e.stack),C.a.error(e.message)})));case 4:case"end":return e.stop()}}),e)}))),n.onSelectStatusChange=n.onSelectStatusChange.bind(Object(q.a)(n)),n.onConfirmDelete=n.onConfirmDelete.bind(Object(q.a)(n)),n}return Object(j.a)(t,e),Object(w.a)(t,[{key:"componentDidMount",value:function(){var e=this;Object(W.trackPromise)(this.getNewsApi().then((function(t){e.props.news_change(t.data),C.a.success(t.message)})).catch((function(e){console.error(e.stack),C.a.error(e.message)})))}},{key:"selectModeOn",value:function(e){document.getElementById("manage_btn").innerHTML="Cancel",document.getElementById("manage_btn").style.backgroundColor="red",document.getElementById("status_header").style.display="table-cell",document.getElementById("delete_btn").style.display="table-cell";for(var t=0;t<e.length;t+=1)e[t].style.display="table-cell"}},{key:"selectModeOff",value:function(e){document.getElementById("manage_btn").innerHTML="Manage news",document.getElementById("manage_btn").style.backgroundColor="#4CAF50",document.getElementById("status_header").style.display="none",document.getElementById("delete_btn").style.display="none";for(var t=0;t<e.length;t+=1)e[t].style.display="none"}},{key:"getItems",value:function(e){this.props.parent_items_change(e)}},{key:"onSelectStatusChange",value:function(){var e=document.getElementsByClassName("cb_style");!1===this.props.select_mode&&this.selectModeOn(e),!0===this.props.select_mode&&this.selectModeOff(e),this.props.select_mode_change(!this.props.select_mode)}},{key:"render",value:function(){var e=this;console.log("[NewsTable props]: ".concat(JSON.stringify(this.props)));var t=[],n=this.props.section_url.split("/")[1];return this.props.news.filter((function(e){return e.project===n})).forEach((function(n,a){t.push(r.a.createElement(K,{news:n,key:n._id,index:a,getItems:e.getItems.bind(e)}))})),r.a.createElement("div",{className:"newstable"},r.a.createElement("h1",null,"NewsTable"),r.a.createElement("button",{id:"manage_btn",className:"normal_btn",onClick:this.onSelectStatusChange},"Manage news"),r.a.createElement("button",{id:"delete_btn",className:"normal_btn",onClick:function(){Object(V.confirmAlert)({customUI:function(t){var n=t.onClose;return r.a.createElement("div",{className:"custom-ui"},r.a.createElement("h1",null,"Are you sure?"),r.a.createElement("p",null,"You want to delete these news?"),r.a.createElement("button",{onClick:n},"NO"),r.a.createElement("button",{onClick:function(){e.onConfirmDelete(),n()}},"YES"))}})}},"Delete"),r.a.createElement("table",null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{id:"status_header"},"Status"),r.a.createElement("th",null,"Date"),r.a.createElement("th",null,"EventTime"),r.a.createElement("th",null,"Title"),r.a.createElement("th",null,"Summary"),r.a.createElement("th",null,"Thumbnail"))),r.a.createElement("tbody",null,t)),r.a.createElement(Z,null))}}]),t}(r.a.Component)),ee=Object(i.b)((function(e){return{news:e.news,select_mode:e.select_mode,parent_items:e.parent_items}}),N)($),te=n(272),ne=function(e){function t(e){var n;return Object(v.a)(this,t),(n=Object(O.a)(this,Object(_.a)(t).call(this,e))).getNewsApi=Object(y.a)(E.a.mark((function e(){var t,n;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/news");case 2:return t=e.sent,e.next=5,t.json();case 5:if(n=e.sent,200===t.status){e.next=8;break}throw new Error(n.message);case 8:return e.abrupt("return",n);case 9:case"end":return e.stop()}}),e)}))),n.handleSubmit=function(){var e=Object(y.a)(E.a.mark((function e(t){var a,r,s;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n.props.reset_news(),a=new FormData,r=n.props.section_url.split("/")[1],a.append("input",n.props.input),a.append("event_time",n.props.date),a.append("page_url",r),e.next=9,fetch("/api/news",{method:"POST",body:a,mode:"cors"});case 9:return s=e.sent,e.next=12,s.json();case 12:200===e.sent.status&&Object(W.trackPromise)(n.getNewsApi().then((function(e){return n.props.news_change(e.data)})).then((function(){return C.a.success("insert succeed")})).catch((function(e){console.error(e.stack),C.a.error(e.message)})));case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.handleInputChange=n.handleInputChange.bind(Object(q.a)(n)),n.handleDateChange=n.handleDateChange.bind(Object(q.a)(n)),n.handleSubmit=n.handleSubmit.bind(Object(q.a)(n)),n.handleFocuseChange=n.handleFocuseChange.bind(Object(q.a)(n)),n}return Object(j.a)(t,e),Object(w.a)(t,[{key:"handleInputChange",value:function(e){this.props.input_change(e.target.value)}},{key:"handleDateChange",value:function(e){this.props.date_change(e)}},{key:"handleFocuseChange",value:function(e){this.props.focuse_change(e.focused)}},{key:"render",value:function(){return console.log("[AddNewsForm props]: { section_url: ".concat(this.props.section_url,", date: ").concat(this.props.date,", input: ").concat(this.props.input,", focused: ").concat(this.props.focused,"}")),r.a.createElement("form",{className:"addnews_form",onSubmit:this.handleSubmit},r.a.createElement("label",null,"URL:"),r.a.createElement("div",{className:"url_text"},r.a.createElement("label",null,r.a.createElement("input",{className:"mystyle_input",type:"text",onChange:this.handleInputChange,placeholder:"please paste an url here"}))),r.a.createElement(te.SingleDatePicker,{date:this.props.date,id:"datepicker_id",onDateChange:this.handleDateChange,focused:this.props.focused,onFocusChange:this.handleFocuseChange,isOutsideRange:function(){return!1},showClearDate:!0}),r.a.createElement("input",{className:"mystyle_input",type:"submit",value:"Submit"}))}}]),t}(r.a.Component),ae=Object(i.b)((function(e){return{news:e.news,input:e.input,date:e.date,focused:e.focused}}),N)(ne),re=function(e){function t(){return Object(v.a)(this,t),Object(O.a)(this,Object(_.a)(t).apply(this,arguments))}return Object(j.a)(t,e),Object(w.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"section"},r.a.createElement(ee,{section_url:this.props.match.url}),r.a.createElement(ae,{section_url:this.props.match.url}))}}]),t}(r.a.Component);var se=function(e){return r.a.createElement("div",{className:"nav"},r.a.createElement("h3",null,"Navigation"),r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement(c.b,{to:"/home"},"Home")),r.a.createElement("li",null,r.a.createElement(c.b,{to:"/linke"},"Linke")),r.a.createElement("li",null,r.a.createElement(c.b,{to:"/dbj"},"DBJ"))))},oe=function(e){function t(){var e,n;Object(v.a)(this,t);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(n=Object(O.a)(this,(e=Object(_.a)(t)).call.apply(e,[this].concat(r)))).getLoginStatus=Object(y.a)(E.a.mark((function e(){var t,n;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/user/info");case 2:return t=e.sent,n=t.json(),e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)}))),n.onLogOut=Object(y.a)(E.a.mark((function e(){var t,a;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/user/logout?userId=".concat(n.props.userId));case 2:return t=e.sent,a=t.json(),e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)}))),n.handleMenuClick=function(){var e=Object(y.a)(E.a.mark((function e(t){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log(t),"1"===t.key&&n.onLogOut().then((function(e){200===e.status&&(C.a.success(e.message),n.props.login_status_change(!1,null,null),n.props.history.push("/"))})).catch((function(e){console.error(e.stack),C.a.error(e.message)}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n}return Object(j.a)(t,e),Object(w.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.getLoginStatus().then((function(t){401===t.status&&(C.a.warning(t.message),e.props.login_status_change(!1,null,null),e.props.history.push("/login"))})).catch((function(e){console.error(e.stack),C.a.error(e.message)}))}},{key:"render",value:function(){console.log("[Home props]: ".concat(JSON.stringify(this.props)));var e=r.a.createElement(R.a,{onClick:this.handleMenuClick},r.a.createElement(R.a.Item,{key:"0"},"Personal Info"),r.a.createElement(R.a.Item,{key:"1"},"Logout"));return r.a.createElement("div",{className:"App"},r.a.createElement("div",{className:"header"},r.a.createElement("img",{src:J.a,style:{height:"4ex",float:"left",padding:"30px 0 0 10px"},className:"App-logo",alt:"logo"}),r.a.createElement("h1",null,"Linke Technology"),r.a.createElement("div",{className:"dropdown_style"},r.a.createElement(U.a.Button,{overlay:e,icon:r.a.createElement(I.a,{type:"user"})},this.props.username))),r.a.createElement(se,null),r.a.createElement(k.c,null,r.a.createElement(k.a,{exact:!0,path:"/home",component:ce}),r.a.createElement(k.a,{path:"/register",component:B}),r.a.createElement(k.a,{path:"/linke",component:re}),r.a.createElement(k.a,{path:"/dbj",component:re})))}}]),t}(r.a.Component),ce=function(e){function t(){return Object(v.a)(this,t),Object(O.a)(this,Object(_.a)(t).apply(this,arguments))}return Object(j.a)(t,e),Object(w.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h1",null,"Home"),r.a.createElement("p",{className:"left"},"This is home page"))}}]),t}(r.a.Component),ie=Object(k.f)(Object(i.b)((function(e){return{isLogin:e.isLogin,userId:e.userId,username:e.username}}),N)(oe)),le=(n(519),n(542),n(543),function(e){function t(){var e,n;Object(v.a)(this,t);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(n=Object(O.a)(this,(e=Object(_.a)(t)).call.apply(e,[this].concat(r)))).getRegisterBtnClick=function(){var e=Object(y.a)(E.a.mark((function e(t){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("isClicked: ".concat(t)),t&&n.props.history.push("/register");case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.getLoginStatus=Object(y.a)(E.a.mark((function e(){var t,n;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/user/info");case 2:return t=e.sent,e.next=5,t.json();case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)}))),n}return Object(j.a)(t,e),Object(w.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.getLoginStatus().then((function(t){200===t.status?(C.a.success(t.message),e.props.login_status_change(!0,t.data._id,t.data.username)):(C.a.warning(t.message),e.props.login_status_change(!1,null,null))})).catch((function(e){return console.error(e.stack)}))}},{key:"render",value:function(){return console.log("[App props]: ".concat(JSON.stringify(this.props))),"/register"===this.props.location.pathname?r.a.createElement(B,null):r.a.createElement("div",{className:"App"},!this.props.isLogin&&r.a.createElement(G,{btnClicked:this.getRegisterBtnClick.bind(this)}),this.props.isLogin&&r.a.createElement(ie,{isLogin:this.props.isLogin,username:this.props.username,userId:this.props.userId}))}}]),t}(r.a.Component)),ue=Object(k.f)(Object(i.b)((function(e){return{isLogin:e.isLogin,userId:e.userId,username:e.username}}),N)(le)),pe=document.getElementById("root");o.a.render(r.a.createElement(c.a,null,r.a.createElement(i.a,{store:g},r.a.createElement(ue,null))),pe)}},[[275,1,2]]]);
//# sourceMappingURL=main.f071d062.chunk.js.map