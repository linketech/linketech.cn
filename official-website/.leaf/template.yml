ROSTemplateFormatVersion: '2015-09-01'
Transform: 'Aliyun::Serverless-2018-04-03'
Resources:
  linke-official-website:
    Type: 'Aliyun::Serverless::Service'
    Properties:
      Description: ''
      Policies:
        - AliyunECSNetworkInterfaceManagementAccess
      LogConfig:
        Project: log-project-linke-official-website-leaf-linketech-cn
        Logstore: log-store-linke-official-website-leaf-linketech-cn
    linke-official-websiteHttp:
      Type: 'Aliyun::Serverless::Function'
      Properties:
        Handler: handler.httpHandler
        Initializer: handler.initializer
        Runtime: nodejs10
        CodeUri: ./
        MemorySize: 256
        Timeout: 60
        InitializationTimeout: 60
        EnvironmentVariables: {}
        InstanceConcurrency: 100
      Events:
        httpTrigger:
          Type: HTTP
          Properties:
            AuthType: ANONYMOUS
            Methods:
              - GET
              - POST
              - PUT
              - DELETE
              - HEAD
  linke-official-website.leaf.linketech.cn:
    Type: 'Aliyun::Serverless::CustomDomain'
    Properties:
      Protocol: HTTP
      RouteConfig:
        routes:
          /*:
            ServiceName: linke-official-website
            FunctionName: linke-official-websiteHttp
  log-project-linke-official-website-leaf-linketech-cn:
    Type: 'Aliyun::Serverless::Log'
    Properties:
      Description: log project for linke-official-website.leaf.linketech.cn
    log-store-linke-official-website-leaf-linketech-cn:
      Type: 'Aliyun::Serverless::Log::Logstore'
      Properties:
        TTL: 180
        ShardCount: 1
